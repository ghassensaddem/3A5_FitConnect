
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <title>{% block title %}Historique{% endblock %}</title>
</head>
<body>
{% block body %}

<div class="container mt-4">
    <h1 class="mb-4">ðŸ“œ Historique des actions</h1>

    <table class="table table-striped table-bordered">
        <thead class="table-dark">
            <tr>
            
                <th>ID</th>
                <th>Action</th>
                <th>EntitÃ©</th>
                <th>Date</th>
                <th>DÃ©tails</th>
                
            </tr>
        </thead>
        <tbody>
        
       {% for h in historiques %}
    <tr>

         <td style="display: flex; justify-content: space-between; align-items: center;">
        <form action="{{ path('app_historique_delete', {'id': h.getId()}) }}" method="POST" style="display:inline;">
    <button type="submit" class="btn btn-sm btn-danger" style="width: 25px; height: 25px; padding: 0; display: flex; justify-content: center; align-items: center;" onclick="return confirm('ÃŠtes-vous sÃ»r de vouloir supprimer cette action ?')">
     
    </button>
</form>

            </a>{{ h.getId() }}</td>
        <td>{{ h.getAction() }}</td>
        <td>{{ h.getEntite() }}</td>
        <td>{{ h.getDate() ? h.getDate()|date('d/m/Y H:i') : '' }}</td>
        <td>{{ h.getDetails() }}
            {% if h.getAction() in ['ajout', 'modifier', 'modification'] %}
        {% set details = h.getDetails() %}
        {% set id = details|split(':')|last|trim %}
        <a href="/{{ h.getEntite()|lower }}/{{ id }}/edit" class="btn btn-sm btn-success ms-2">
            Modifier
        </a>
    {% endif %}
        </td>
        
    </tr>
{% else %}
    <tr>
        <td colspan="5" class="text-center">Aucune action enregistrÃ©e.</td>
    </tr>
{% endfor %}

        </tbody>
    </table>
</div>
{% endblock %}


</body>
</html>