{% extends 'front.html.twig' %}

{% block title %}Programme{% endblock %}

{% block body %}
 <main>
        <!--? Hero Start -->
        <div class="slider-area2">
            <div class="slider-height2 d-flex align-items-center">
                <div class="container">
                    <div class="row">
                        <div class="col-xl-12">
                            <div class="hero-cap hero-cap2 text-center pt-70">
                                <h2 class="program-title">Programmes</h2>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Hero End -->

        <!--? Date Tabs Start -->
        <section class="date-tabs section-padding30">
            <div class="container">
                <!-- Heading & Nav Button -->
                <div class="row justify-content-center mb-10">
                    <div class="col-lg-11">
                        <div class="properties__button">
                            <!-- Nav Button  -->                                            
                            <nav>      
                              <div class="tab-pane fade show active" id="nav-nav-Sport" role="tabpanel" aria-labelledby="nav-Sports">


 <div class="row">
  {% for programme in programmes %}
    <div class="col-12 col-md-4 mb-4">
      <!-- Programme card -->
      <div class="single-box programme-card" onclick="toggleSeances('seances-{{ programme.id }}')">
        <div class="single-caption text-center">
          <div class="caption">
            <h3>{{ programme.description }}</h3>
          </div>
        </div>
        <head>
    <style>
        .single-caption {
            display: flex;
            justify-content: center;  /* Centre horizontalement */
            align-items: center;      /* Centre verticalement */
            height: 100%;             /* Occupe toute la hauteur disponible */
            padding: 10px;            /* Pour ajouter de l'espace autour du texte */
        }

        .caption h3 {
            font-size: 1.5rem;        /* Ajuste la taille du texte */
            word-wrap: break-word;    /* Permet au texte de se couper sur plusieurs lignes */
            white-space: normal;      /* Permet au texte de se diviser automatiquement */
            line-height: 1.4;         /* Améliore l'espacement des lignes */
            margin: 0;                /* Enlève les marges par défaut du h3 */
        }
    </style>
</head>
      </div>

      <!-- Séances associées - dans la même colonne -->
      <div id="seances-{{ programme.id }}" class="seances-container" style="display: none;">
        {% for seance in seances %}
          {% if seance.programmeId.id == programme.id %}
            <div class="single-box seance-card">
              <div class="card">
                <div class="card-body">
                  <p><strong>Date:</strong> {{ seance.date|date('Y-m-d') }}</p>
                  <p><strong>Horaire:</strong> {{ seance.horaire|date('H:i') }}</p>
              <div class="mt-3 d-flex justify-content-between w-100">
  <a href="{{ path('app_avis_new', { 'id': seance.id }) }}" class="btn  btn-sm mx-2 text-start " style="background-color: #006400; color: white;">
    Ajouter un avis
  </a>
  <a href="{{ path('app_avis_index', { 'id': seance.id }) }}" class="btn btn-sm mx-2 text-start " style="background-color: #006400; color: white;">
    Afficher les avis
  </a>
</div>


                </div>
              </div>
            </div>
          {% endif %}
        {% endfor %}
      </div>
    </div>
  {% endfor %}
</div>

<head>
   <style>

  .programme-card {
    cursor: pointer;
    margin-bottom: 20px;
    width: 100%;
    height: 200px; /* Ajuste la hauteur ici */
    transition: transform 0.3s ease, background-color 0.3s ease;
    background-color: #f9f9f9;
    border: 1px solid #ccc;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* Effet quand on survole la carte */
  .programme-card:hover {
    transform: scale(1.03);
    background-color:rgb(0, 100, 0); 
   
  }

  

.seances-container {
    margin-top: 40px;
    display: block;
}

.card-body {
    padding: 15px;
}

.single-box {
    margin-bottom: 10px;
    border: 1px solid #ccc; /* Bordure légère pour uniformiser l'apparence */
    border-radius: 8px; /* Coins arrondis pour un effet plus moderne */
    background-color: #f9f9f9;
}

.single-caption {
    text-align: center;
}

h3 {
    font-size: 1.5rem;
    font-weight: bold;
    color: #333;
}

.btn-sm {
  min-width: 120px;
  text-align: left;
   padding-left: 10px;
}
.btn-sm:hover {
  background-color: #006400 !important;
  color: white !important;
  box-shadow: none !important;
  transform: none !important;
}
    </style>
</head>



<script>
    function toggleSeances(seancesId) {
        var seancesContainer = document.getElementById(seancesId);
        if (seancesContainer.style.display === "none") {
            seancesContainer.style.display = "block";
        } else {
            seancesContainer.style.display = "none";
        }
    }
</script>




                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Date Tabs End -->
    </main>

{% endblock %}