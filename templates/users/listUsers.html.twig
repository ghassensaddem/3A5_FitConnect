<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="assets/css/styles.css">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
    <title>Dashboard</title>
    <style>
        .sidebar {
    width: 250px;
    background:rgb(29, 90, 182);
    padding: 15px;
    border-radius: 8px;
    color: white;
}

.sidebar--items {
    list-style: none;
    padding: 0;
}

.sidebar--items li {
    margin-bottom: 10px;
}

.sidebar--items a {
    text-decoration: none;
    color: white;
    font-size: 16px;
    padding: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-radius: 5px;
    transition: background 0.3s;
}

.sidebar--items a:hover {
    background: rgba(255, 255, 255, 0.1);
}

.submenu {
    display: none;
    list-style: none;
    padding-left: 15px;
}

.submenu.active {
    display: block;
}

.submenu li a {
    font-size: 14px;
    padding: 5px;
    display: block;
    color: white;
}

.submenu li a:hover {
    background: rgba(255, 255, 255, 0.2);
}

.submenu-icon {
    font-size: 12px;
    transition: transform 0.3s;
}

.has-submenu .submenu.active + .submenu-icon {
    transform: rotate(90deg);
}

.doctors--cards {
    display: flex;
    overflow-x: auto; /* Permet le défilement horizontal */
    
}


    </style>
</head>

<body>
    <section class="header">
        <div class="logo">
            <i class="ri-menu-line icon icon-0 menu"></i>
            <h2>FitCo<span>nnect</span></h2>
        </div>
        <div class="search--notification--profile">
            <div class="search">
                <input type="text" placeholder="Search Scdule..">
                <button><i class="ri-search-2-line"></i></button>
            </div>
            <div class="notification--profile">
                <div class="picon lock">
                    <i class="ri-lock-line"></i>
                </div>
                <div class="picon bell">
                    <i class="ri-notification-2-line"></i>
                </div>
                <div class="picon chat">
                    <i class="ri-wechat-2-line"></i>
                </div>
                <div class="picon profile">
                    <img src="assets/images/profile.jpg" alt="">
                </div>
            </div>
        </div>
    </section>
    <section class="main">
        <div class="sidebar">
            <ul class="sidebar--items">
                 <li class="has-submenu">
                    <a href="#" id="active--link">
                        <span class="icon"><i class="ri-shield-user-line"></i></span>
                        <span class="sidebar--item">Gestion Users</span>
                        <span class="submenu-icon">▶</span>
                    </a>
                    <ul class="submenu">
                        <li><a href="{{ path('ListeAdmins') }}"><i class="ri-file-list-line"></i> Gestion Admins</a></li>
                    </ul>
                </li>
                <li class="has-submenu">
                    <a href="#">
                        <span class="icon"><i class="ri-bookmark-line"></i></span>
                        <span class="sidebar--item">Gestion produit</span>
                        <span class="submenu-icon">▶</span>
                    </a>
                    <ul class="submenu">
                        <li><a href="#"><i class="ri-file-list-line"></i> Gestion type produit</a></li>
                    </ul>
                </li>
                <li class="has-submenu">
                    <a href="#">
                        <span class="icon"><i class="ri-bookmark-line"></i></span>
                        <span class="sidebar--item">Gestion programme</span>
                        <span class="submenu-icon">▶</span>
                    </a>
                    <ul class="submenu">
                        <li><a href="#"><i class="ri-list-check"></i> Gestion type programme</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">
                        <span class="icon"><i class="ri-calendar-event-line"></i></span>
                        <span class="sidebar--item">Gestion Evenement</span>
                    </a>
                </li>
                <li class="has-submenu">
                    <a href="#">
                        <span class="icon"><i class="ri-run-line"></i></span>
                        <span class="sidebar--item">Gestion Activite</span>
                        <span class="submenu-icon">▶</span>
                    </a>
                    <ul class="submenu">
                        <li><a href="#"><i class="ri-group-line"></i> Gestion type Activite</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">
                        <span class="icon"><i class="ri-chat-3-line"></i></span>
                        <span class="sidebar--item">Gestion forum</span>
                    </a>
                </li>
            </ul>
        </div>

        

        <div class="main--content">
            <div class="overview">
                <div class="title">
                    <h2 class="section--title">Overview</h2>
                    <select name="date" id="date" class="dropdown">
                        <option value="today">Today</option>
                        <option value="lastweek">Last Week</option>
                        <option value="lastmonth">Last Month</option>
                        <option value="lastyear">Last Year</option>
                        <option value="alltime">All Time</option>
                    </select>
                </div>
                <div class="cards">
                    <div class="card card-1">
                        <div class="card--data">
                            <div class="card--content">
                                <h5 class="card--title">Total Coachs</h5>
                                <h1>{{totalCoachs}}</h1>
                            </div>
                            <i class="ri-user-2-line card--icon--lg"></i>
                        </div>
                        <div class="card--stats">
                            <span><i class="ri-bar-chart-fill card--icon stat--icon"></i>65%</span>
                            <span><i class="ri-arrow-up-s-fill card--icon up--arrow"></i>10</span>
                            <span><i class="ri-arrow-down-s-fill card--icon down--arrow"></i>2</span>
                        </div>
                    </div>
                    <div class="card card-2">
                        <div class="card--data">
                            <div class="card--content">
                                <h5 class="card--title">Total Clients</h5>
                                <h1>{{totalClients}}</h1>
                            </div>
                            <i class="ri-user-line card--icon--lg"></i>
                        </div>
                        <div class="card--stats">
                            <span><i class="ri-bar-chart-fill card--icon stat--icon"></i>82%</span>
                            <span><i class="ri-arrow-up-s-fill card--icon up--arrow"></i>230</span>
                            <span><i class="ri-arrow-down-s-fill card--icon down--arrow"></i>45</span>
                        </div>
                    </div>
                    <div class="card card-3">
                        <div class="card--data">
                            <div class="card--content">
                                <h5 class="card--title">Schedule</h5>
                                <h1>102</h1>
                            </div>
                            <i class="ri-calendar-2-line card--icon--lg"></i>
                        </div>
                        <div class="card--stats">
                            <span><i class="ri-bar-chart-fill card--icon stat--icon"></i>27%</span>
                            <span><i class="ri-arrow-up-s-fill card--icon up--arrow"></i>31</span>
                            <span><i class="ri-arrow-down-s-fill card--icon down--arrow"></i>23</span>
                        </div>
                    </div>
                    <div class="card card-4">
                        <div class="card--data">
                            <div class="card--content">
                                <h5 class="card--title">Beds Available</h5>
                                <h1>15</h1>
                            </div>
                            <i class="ri-hotel-bed-line card--icon--lg"></i>
                        </div>
                        <div class="card--stats">
                            <span><i class="ri-bar-chart-fill card--icon stat--icon"></i>8%</span>
                            <span><i class="ri-arrow-up-s-fill card--icon up--arrow"></i>11</span>
                            <span><i class="ri-arrow-down-s-fill card--icon down--arrow"></i>2</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="doctors">
                <div class="title">
                    <h2 class="section--title">Coachs</h2>
                    <div class="doctors--right--btns">
                        <form action="{{ path('app_users') }}" method="post"  >
                            <select name="activity" id="activity" class="dropdown doctor--filter" onchange="this.form.submit()">
                                <option value="tous" {% if activityChoisie is not defined or activityChoisie == '' %}selected{% endif %}>
                                    Toutes les activités
                                </option>
                                {% if activities is not empty %}
                                    {% for activity in activities %}
                                        <option value="{{ activity.nomActivity }}"
                                            {% if activityChoisie is defined and activityChoisie == activity.nomActivity %}selected{% endif %}>
                                            {{ activity.nomActivity }}
                                        </option>
                                    {% endfor %}
                                {% else %}
                                    <option value="">Aucune activité disponible</option>
                                {% endif %}
                            </select>

                            
                        </form>

                        <a href="{{ path('AddCoach') }}" class="add">
                            <i class="ri-add-line"></i> Ajouter Coach
                        </a>
                        
                    </div>
                </div>
                <div class="doctors--cards">
                    {% if coachs is not empty %}
                        {% for coach in coachs %}
                            <a href="{{ path('updateCoach', {'id': coach.id}) }}" class="doctor--card">
                                <div class="img--box--cover">
                                    <div class="img--box">
                                          <img src="{{ asset(coach.image | replace({'C:/xampp/htdocs/images/': 'uploads/'})) }}" alt="profile">
                 
                                    </div>
                                </div>
                                <p class="free">{{coach.nom}}</p>
                            </a>
                        {% endfor %}
                    {% else %}
                        <p>Aucun coach trouvé.</p>
                    {% endif %}
                    
                </div>
            </div>
            <div class="recent--patients">
                <div class="title">
                    <h2 class="section--title">Liste Clients</h2>
                    <a href="{{ path('AddClient') }}" class="add">
                        <i class="ri-add-line"></i> Ajouter Client
                    </a>
                </div>
                <div class="table">
                    <table>
                        <thead>
                            <tr>
                                <th>Nom Prenom</th>
                                <th>Date Naissance</th>
                                <th>Genre</th>
                                <th>Poids</th>
                                <th>Email</th>
                                <th>Options</th>
                            </tr>
                        </thead>
                        <tbody>
                        {% if clients is not empty %}
                            {% for client in clients %}
                                <tr>
                                    <td>{{  client.nom ~ ' ' ~ client.prenom }}</td>
                                    <td>{{ client.dateNaissance|date('d/m/Y') }}</td>
                                    <td>{{ client.sexe }}</td>
                                    <td>{{ client.poids }}kg</td>
                                    <td>{{ client.email }}</td>
                                    <td>
                                        <span>
                                            <a href="{{ path('updateClient', {'id': client.id}) }}">
                                                <i class="ri-edit-line edit"></i>
                                            </a>
                                            <a href="{{ path('deleteClient', {'id': client.id}) }}" onclick="return confirm('Êtes-vous sûr de vouloir supprimer cet utilisateur ?');">
                                                <i class="ri-delete-bin-line delete"></i>
                                            </a>
                                        </span>
                                    </td>

                                </tr>
                            {% endfor %}
                        {% else %}
                            <tr>
                                <td colspan="6">Aucun client trouvé.</td>
                            </tr>
                        {% endif %}
                           
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>
    <script src="assets/js/main.js"></script>
    <script>
            document.querySelectorAll(".has-submenu > a").forEach(item => {
                item.addEventListener("click", function (e) {
                    e.preventDefault();
                    let submenu = this.nextElementSibling;
                    submenu.classList.toggle("active");
                });
            });
        </script>
</body>

</html>