{% extends 'base.html.twig' %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<style>
body {
    font-family: 'Poppins', sans-serif;
    background-color: #f5f5f5;
    margin: 0;
    padding: 0;
}

.container {
    max-width: 600px;
    background: #fff;
    padding: 20px;
    margin: 50px auto;
    border-radius: 8px;
    box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
}

.profile-header {
    text-align: center;
    margin-bottom: 20px;
}

.profile-header img {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    border: 3px solid #ddd;
}

.profile-header h4 {
    font-size: 20px;
    margin-top: 10px;
    font-weight: 600;
}

.profile-header span {
    color: #777;
    font-size: 14px;
}

.form-group {
    margin-bottom: 15px;
}

.form-group label {
    font-weight: 600;
    font-size: 14px;
    display: block;
    margin-bottom: 5px;
}

.form-control {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 14px;
    transition: all 0.3s ease-in-out;
}

.form-control:focus {
    border-color: #007bff;
    outline: none;
}

.button-container {
    text-align: center;
    margin-top: 20px;
}

.profile-button {
    background-color: #007bff;
    color: #fff;
    padding: 10px 20px;
    font-size: 14px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: 0.3s ease-in-out;
}

.profile-button:hover {
    background-color: #0056b3;
}

.form-error {
  color: red; /* Red text for error messages */
  font-size: 12px; /* Optional: Change the size of the error text */
  margin-top: 5px; /* Optional: Add some space above the error message */
}


.delete-button {
    background-color: red;
    color: white;
    padding: 10px 15px;
    border: none;
    text-decoration: none;
    cursor: pointer;
    border-radius: 5px;
}

.delete-button:hover {
    background-color: darkred;
}



</style>
<div class="container">
    <div class="profile-header">
        <div>
             <figure>
                    <img src="{{ asset(coach.image | replace({'C:/xampp/htdocs/images/': 'uploads/'})) }}" alt="profile" width="250px" height="250px">
                    <div class="overlay">
                        <label for="upload-image" class="camera-icon">
                            <i class="ri-camera-fill"></i>
                        </label>
                        <form action="{{ path('updateCoachImage', {'id': coach.id}) }}" method="post" enctype="multipart/form-data" id="image-form">
                            <input type="file" id="upload-image" name="image" accept="image/*" onchange="document.getElementById('image-form').submit();" hidden>
                        </form>
                    </div>
                </figure>
        </div>
        
        <h4>{{ coach.nom }}</h4>
        <span>{{ coach.email }}</span>
    </div>
     <form action="{{ path('updateCoach', {'id': coach.id}) }}" method="post" >
                       

     {{ form_start(form, {'attr': {'class': 'profile-form'}}) }}

    <div class="form-group">
        <label>Nom</label>
        {{ form_widget(form.nom, {'attr': {'class': 'form-control', 'placeholder': 'Nom'}}) }}
        <div class="form-error">{{ form_errors(form.nom) }}</div>
    </div>

    <div class="form-group">
        <label>Prénom</label>
        {{ form_widget(form.prenom, {'attr': {'class': 'form-control', 'placeholder': 'Prénom'}}) }}
        <div class="form-error">{{ form_errors(form.prenom) }}</div>
    </div>

    <div class="form-group">
        <label>E-mail</label>
        {{ form_widget(form.email, {'attr': {'class': 'form-control', 'placeholder': 'Entrez votre e-mail'}}) }}
        <div class="form-error">{{ form_errors(form.email) }}</div>
    </div>

    <div class="form-group">
        <label>Mot de passe</label>
        {{ form_widget(form.mdp, {'attr': {'class': 'form-control', 'placeholder': 'Nouveau mot de passe'}}) }}
        <div class="form-error">{{ form_errors(form.mdp) }}</div>
    </div>

    <div class="form-group">
        <label>Date de Naissance</label>
       {{ form_widget(form.dateNaissance, {'attr': {'class': 'form-control'}}) }}
        <div class="form-error">{{ form_errors(form.dateNaissance) }}</div>
    </div>
    <div class="form-group">
        <label>Sexe</label>
       {{ form_widget(form.sexe, {'attr': {'class': 'form-control'}}) }}
        <div class="form-error">{{ form_errors(form.sexe) }}</div>
    </div>

    <div class="form-group">
        <label>LieuEngagement </label>
        {{ form_widget(form.lieuEngagement, {'attr': {'class': 'form-control'}}) }}
        <div class="form-error">{{ form_errors(form.lieuEngagement) }}</div>
    </div>

    <div class="form-group">
        <label>specialite</label>
        {{ form_widget(form.specialite, {'attr': {'class': 'form-control'}}) }}
        <div class="form-error">{{ form_errors(form.specialite) }}</div>
    </div>

    <div class="button-container">
        <button type="submit" class="profile-button">Save Profile</button>
        <a href="{{ path('deleteCoach', {'id': coach.id}) }}" class="profile-button delete-button">Supprimer Coach</a>

    </div>
    

   {{ form_end(form, {'render_rest': false}) }}

    </form>
</div>



 <script src="{{ asset('assets/js/main.js') }}"></script>
    <script>
        document.querySelectorAll(".has-submenu > a").forEach(item => {
            item.addEventListener("click", function (e) {
                e.preventDefault();
                let submenu = this.nextElementSibling;
                submenu.classList.toggle("active");
            });
        });
    </script>
{% endblock %}



