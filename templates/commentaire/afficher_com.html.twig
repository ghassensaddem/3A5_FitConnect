{% extends 'front.html.twig' %}

{% block title %}Commentaire{% endblock %}

{% block body %}
     <main>
      <!--? Hero Start -->
      <div class="slider-area2">
         <div class="slider-height2 d-flex align-items-center">
            <div class="container">
               <div class="row">
                  <div class="col-xl-12">
                     <div class="hero-cap hero-cap2 pt-70 text-center">
                        <h2>Commentaires</h2>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <!-- Hero End -->
   
      <!--? Blog Area Start -->
      <section class="blog_area single-post-area section-padding">
   <div class="container">
      <div class="row">
         <div class="col-lg-8 posts-list">
            <div class="comments-area">
               <h4>{{ comments|length }} commentaires</h4>
               {% for comment in comments %}
               <div class="comment-list">
                  <div class="single-comment justify-content-between d-flex">
                     <div class="user justify-content-between d-flex">
                        <div class="thumb">
                           <img src="{{ asset('assets/img/comment/comment_1.png') }}" alt="">
                        </div>
                        <div class="desc">
                           <p class="comment">
                              {{ comment.contenu }}
                           </p>
                           <div class="d-flex justify-content-between">
                              <div class="d-flex align-items-center">
                                 <h5>
                                    <a href="#">{{ comment.author }}</a>
                                 </h5>
                                 <p class="date">{{ comment.date|date('F j, Y') }}</p>
                              </div>
                              {% if comment.client.id == client.id %}
    <div class="reply-btn">
        <a href="{{ path('app_comment_delete', { 'id': comment.id }) }}" class="btn-reply text-uppercase" onclick="return confirm('Êtes-vous sûr de vouloir supprimer ce commentaire ?');">
            Supprimer
        </a>
    </div>

    <div class="reply-btn">
        <a href="{{ path('app_comment_edit', { 'id': comment.id }) }}" class="btn-reply text-uppercase">
            Modifier
        </a>
    </div>
{% endif %}


                           </div>
                        </div>
                     </div>
                  </div>
               </div>
               {% endfor %}
            </div>

            <!-- Formulaire sous les commentaires -->
            <div class="comment-form mt-5">
               <h4>Laisser un commentaire</h4>
               {{ form_start(form, {
    'attr': {
        'class': 'form-contact comment_form',
        'id': 'commentForm',
        'action': path('app_comment_add', {'id': post.id}),
        'method': 'post'
    }
}) }}

<div class="row">
    <div class="col-12">
        <div class="form-group">
            {{ form_row(form.contenu, {
                'attr': {
                    'class': 'form-control w-100',
                    'placeholder': 'Écrivez votre commentaire ici'
                }
            }) }}
        </div>
    </div>
    <div class="form-group">
        <button type="submit" class="button button-contactForm btn_1 boxed-btn">Ajouter Commentaire</button>
    </div>
</div>

{{ form_end(form) }}

            </div>
         </div>

         <div class="col-lg-4">
            <div class="blog_right_sidebar">
               <!-- Optionally add any sidebar content here -->
            </div>
         </div>
      </div>
   </div>
</section>

      <!-- Blog Area End -->
   </main>
   
{% endblock %}

